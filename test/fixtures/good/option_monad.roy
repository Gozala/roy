data Option a = Some a | None

let fromOption d o = match o
  case (Some a) = a
  case None = d

let optionMonad = {
  return: λx →
    Some x
  bind: λx f → match x
    case (Some a) = f a
    case None = None ()
}

let someSix = do optionMonad.bind
  x ← Some 1
  let y = 2
  z ← Some 3
  optionMonad.return x + y + z

let six = fromOption 0 someSix

console.log six
